% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_hazard_ratio.R
\name{compute_hazard_ratio}
\alias{compute_hazard_ratio}
\title{Estimate the log‑hazard ratio for two groups}
\usage{
compute_hazard_ratio(
  trt,
  time,
  hazard_trt,
  hazard_ctrl,
  beta_init = 0,
  tol = 1e-06,
  max_iter = 10
)
}
\arguments{
\item{trt}{Integer vector of group indicators for each subject (1 = treatment,
0 = control).}

\item{time}{Integer vector of discrete follow‑up times for each subject;
must be the same length as \code{trt}.  Times should take values from 1 to
the length of \code{hazard_trt}.}

\item{hazard_trt}{Numeric vector of length \eqn{K} giving the hazard
probabilities at each discrete time point for the treatment group.}

\item{hazard_ctrl}{Numeric vector of length \eqn{K} giving the hazard
probabilities at each discrete time point for the control group.}

\item{beta_init}{Numeric; initial value of the log hazard ratio for the
iterative procedure (default \code{0}).}

\item{tol}{Numeric; convergence tolerance for the iterative update
(default \code{1e-6}).  The algorithm stops when successive updates differ by less than
\code{tol}.}

\item{max_iter}{Integer; maximum number of iterations to perform (default \code{10}).}
}
\value{
A numeric scalar giving the estimated log hazard ratio.  The hazard
ratio itself is \code{exp( result )}.
}
\description{
\code{compute_hazard_ratio()} estimates the log hazard ratio between a
treatment and a control group when the discrete hazard functions for
each group are known.  The function iteratively solves for the log hazard
ratio \eqn{\beta} by equating weighted sums of group‑specific hazards, where
weights reflect the number at risk in each group at each time point.  The
estimate returned is \eqn{\beta}; exponentiate it to obtain the hazard ratio.
}
\examples{
# Example with simulated discrete hazards
set.seed(42)
trt  <- rbinom(10, 1, 0.5)
time <- sample(1:5, 10, replace = TRUE)
haz_treat <- c(0.05, 0.04, 0.03, 0.02, 0.01)
haz_ctrl  <- c(0.06, 0.05, 0.04, 0.03, 0.02)
log_hr <- compute_hazard_ratio(trt, time, haz_treat, haz_ctrl)
hr <- exp(log_hr)
hr
}
